<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<body>
<div th:fragment="accuracydamagetable(gameSummaryCollection, highlight, hasMap, mapLookups, game)" class="mb-3 table-responsive-sm">
    <table class="table table-bordered table-hover">
        <thead class="bg-theme text-white border-2 border-white">
            <tr>
                <th style="width: 150px" th:if="${hasMap}">Map</th>
                <th>Total Games</th>
                <th>Total Accuracy</th>
                <th>Average Accuracy</th>
                <th>Total Shots Landed</th>
                <th>Total Shots Missed</th>
                <th>Total Shots Fired</th>
                <th>Total Damage Done</th>
                <th>Total Damage Taken</th>
            </tr>
        </thead>
        <tbody>
        <!--/*@thymesVar id="gameSummaryCollection" type="codes.recursive.model.GameSummaryDTOCollection"*/-->
        <tr th:each="record, s: ${gameSummaryCollection.getGameSummaryDTOList()}">
            <!--/*@thymesVar id="record" type="codes.recursive.model.GameSummaryDTO"*/-->
            <!--/*@thymesVar id="mapLookups" type="java.util.HashMap"*/-->
            <th th:if="${hasMap}" scope="row" class="bg-theme text-white" th:text="${gameSummaryCollection.lookupMap(game, record.map)}"></th>
            <td th:text="${record.getTotalGames()}"></td>
            <td th:with="totalAccuracy=${record.getTotalAccuracy() * 100}" th:text="${#numbers.formatDecimal(totalAccuracy, 1, 'COMMA', 2, 'POINT')} + '%'" th:classappend="${highlight ? gameSummaryCollection.getTotalAccuracyClass(record.getTotalAccuracy()) : ''}"></td>
            <td th:with="avgAccuracy=${record.getAverageAccuracy() * 100}" th:text="${#numbers.formatDecimal(avgAccuracy, 1, 'COMMA', 2, 'POINT')} + '%'" th:classappend="${highlight ? gameSummaryCollection.getAvgAccuracyClass(record.getAverageAccuracy()) : ''}">/td>
            <td th:text="${#numbers.formatDecimal(record.getTotalShotsLanded(), 0, 'COMMA', 0, 'POINT')}"></td>
            <td th:text="${#numbers.formatDecimal(record.getTotalShotsMissed(), 0, 'COMMA', 0, 'POINT')}">/td>
            <td th:text="${#numbers.formatDecimal(record.getTotalShotsFired(), 0, 'COMMA', 0, 'POINT')}"></td>
            <td th:text="${#numbers.formatDecimal(record.getTotalDamageDone(), 0, 'COMMA', 0, 'POINT')}">/td>
            <td th:text="${#numbers.formatDecimal(record.getTotalDamageTaken(), 0, 'COMMA', 0, 'POINT')}"></td>
        </tr>
        </tbody>
    </table>
</div>
</body>
</html>