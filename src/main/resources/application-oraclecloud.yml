micronaut:
  application:
    name: bttc
  server:
    dual-protocol: true
    ssl:
      enabled: true
    port: 80
  ssl:
    port: 443
  security:
    authentication: session
    redirect:
      login-success: /games
      login-failure: /login/authFailed
      forbidden:
        url: /login/auth
      unauthorized:
        url: /login/auth
      logout: /
    intercept-url-map:
      - pattern: /css/*
        http-method: GET
        access:
          - isAnonymous()
      - pattern: /img/**
        http-method: GET
        access:
          - isAnonymous()
      - pattern: /ws/**
        http-method: GET
        access:
          - isAnonymous()
      - pattern: ws**
        http-method: GET
        access:
          - isAnonymous()
      - pattern: /scripts/*
        http-method: GET
        access:
          - isAnonymous()
    endpoints:
      logout:
        get-allowed: true
datasources:
  default:
    dialect: ORACLE
    username: ${DB_USERNAME}
    password: ${DB_PASSWORD}
    ocid: ${DB_OCID}
    walletPassword: ${DB_WALLET_PASSWORD}
    connection-factory-class-name: oracle.jdbc.pool.OracleDataSource
jpa.default.properties.hibernate.show_sql: true
mqtt:
  client:
    server-uri: ${MQTT_SERVER_URI}
    client-id: bttc-client-prod
    user-name: ${MQTT_USERNAME}
    password: ${MQTT_PASSWORD}
codes:
  recursive:
    xbox-gamertag: ${XBOX_GAMERTAG}
    app-user: ${APP_USER}
    app-password: ${APP_PASSWORD}
cod:
  sso-token: ODI5NjQ2NDoxNjQ0NTkwNDY3NDcwOmNmYjgxZGRkMDY2MTI5MDZiYTA1NTg1MjU5ZWIzNTc0
  xsrf-token: ${random.uuid}
  user-agent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3729.169 Safari/537.36w"
oci:
  config:
    instance-principal:
      enabled: true
acme:
  enabled: true
  tos-agree: true
  cert-location: /certs
  domains:
    - ${DOMAIN_NAME}
  domain-key: |
    ${SSL_BTTC_KEY}
  account-key: |
    ${SSL_ACME_KEY}
  acme-server: https://acme-v02.api.letsencrypt.org/directory
  challenge-type: http